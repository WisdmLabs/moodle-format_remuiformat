{"version":3,"sources":["common.js"],"names":["define","$","SELECTORS","ACTIVITY_TOGGLE","ACTIVITY_TOGGLE_CLASS","ACTIVITY_TOGGLE_WRAPPER","FIRST_SECTION","SHOW","TOGGLE_HIGHLIGHT","TOGGLE_SHOWHIDE","adjustGeneralSectionActivities","length","width","window","getActivitiesPerRow","removeClass","hide","show","addClass","init","resize","on","this","hasClass","html","toggleClass","animate","scrollTop","offset","top","reload"],"mappings":"AAuBCA,OAAO,CAAC,UAAW,SAASC,GAE3B,IAAIC,EAAY,CACfC,gBAAiB,gBACjBC,sBAAuB,mBACvBC,wBAAyB,uBACzBC,cAAe,aACfC,KAAM,OACDC,iBAAkB,mCACxBC,gBAAiB,mCA+BjB,SAASC,IACJT,EAAEC,EAAUI,cAAgB,cAAcK,QAzB/C,WACC,IAAIC,EAAQX,EAAEY,QAAQD,QACtB,OAAIX,EAAE,sBAAsBU,OACvBC,GAAS,IACL,EAEJA,GAAS,IACL,EAED,EAEHA,GAAS,IACL,EAEJA,GAAS,IACL,EAED,EAQgDE,IACvDb,EAAEC,EAAUI,eAAeS,YAAYb,EAAUE,uBACjDH,EAAEC,EAAUG,yBAAyBW,SAErCf,EAAEC,EAAUG,yBAAyBY,OACrChB,EAAEC,EAAUI,eAAeY,SAAShB,EAAUE,wBAiC9C,MAAO,CACNe,KA9BD,WAEClB,EAAE,0DAA0DiB,SAAS,mBAErER,IACAT,EAAEY,QAAQO,OAAO,WACVV,MAGJT,EAAEC,EAAUC,iBAAiBkB,GAAG,QAAS,WAErCpB,EAAEqB,MAAMC,SAASrB,EAAUK,OAC1BN,EAAEqB,MAAME,KAAK,qDACbvB,EAAEqB,MAAMG,YAAYvB,EAAUK,QAE9BN,EAAEqB,MAAME,KAAK,uDACbvB,EAAEqB,MAAMG,YAAYvB,EAAUK,MAC9BN,EAAE,cAAcyB,QAAQ,CACvBC,UAAW1B,EAAEC,EAAUI,cAAgB,0BAA0BsB,SAASC,IAAM,IAC9E,SAEP5B,EAAEC,EAAUI,eAAemB,YAAYvB,EAAUE,yBAElDH,EAAE,QAAQoB,GAAG,WAAYnB,EAAUM,qBAAqBN,EAAUO,kBAAmB,WACjFI,OAAOiB,YAOdpB,+BAAgCA","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Enhancements to Lists components for easy course accessibility.\n *\n * @module     format/remuiformat\n * @copyright  WisdmLabs\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n define(['jquery'], function($) {\n\n \tvar SELECTORS = {\n \t\tACTIVITY_TOGGLE: '.showactivity',\n \t\tACTIVITY_TOGGLE_CLASS: 'showhideactivity',\n \t\tACTIVITY_TOGGLE_WRAPPER: '.showactivitywrapper',\n \t\tFIRST_SECTION: '#section-0',\n \t\tSHOW: 'show',\n        TOGGLE_HIGHLIGHT: '.dropdown-item.editing_highlight',\n\t\tTOGGLE_SHOWHIDE: '.dropdown-item.editing_showhide'\n \t};\n\n \t/**\n \t * Get number activities can be shown in first row and hide rest\n \t * @return {Integer} Number activities in first row\n \t */\n \tfunction getActivitiesPerRow() {\n \t\tlet width = $(window).width();\n \t\tif ($('.remui-format-list').length) {\n\t \t\tif (width >= 992) {\n\t \t\t\treturn 4;\n\t \t\t}\n\t \t\tif (width >= 768) {\n\t \t\t\treturn 3;\n\t \t\t}\n\t \t\treturn 2;\n \t\t} else {\n \t\t\tif (width >= 768) {\n\t \t\t\treturn 3;\n\t \t\t}\n\t \t\tif (width >= 481) {\n\t \t\t\treturn 2;\n\t \t\t}\n\t \t\treturn 1;\n \t\t}\n \t}\n\n \t/**\n \t * Adjust the general section activities visibility after first row\n \t */\n \tfunction adjustGeneralSectionActivities() {\n \t\tif ($(SELECTORS.FIRST_SECTION + ' .activity').length <= getActivitiesPerRow()) {\n \t\t\t$(SELECTORS.FIRST_SECTION).removeClass(SELECTORS.ACTIVITY_TOGGLE_CLASS);\n \t\t\t$(SELECTORS.ACTIVITY_TOGGLE_WRAPPER).hide();\n \t\t} else {\n \t\t\t$(SELECTORS.ACTIVITY_TOGGLE_WRAPPER).show();\n \t\t\t$(SELECTORS.FIRST_SECTION).addClass(SELECTORS.ACTIVITY_TOGGLE_CLASS);\n \t\t}\n \t}\n\n    function init() {\n\n    \t$('#page-course-view-remuiformat .section-modchooser-link').addClass(\"btn btn-primary\");\n\n    \tadjustGeneralSectionActivities();\n    \t$(window).resize(function() {\n            adjustGeneralSectionActivities();\n        });\n\n        $(SELECTORS.ACTIVITY_TOGGLE).on('click', function() {\n\n\t        if($(this).hasClass(SELECTORS.SHOW)) {\n\t            $(this).html('<i class=\"fa fa-angle-up\" aria-hidden=\"true\"></i>');\n\t            $(this).toggleClass(SELECTORS.SHOW); //Remove show class\n\t        } else {\n\t            $(this).html('<i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i>');\n\t            $(this).toggleClass(SELECTORS.SHOW); //Add show class\n\t            $(\"html, body\").animate({\n\t            \tscrollTop: $(SELECTORS.FIRST_SECTION + ' .activity:first-child').offset().top - 66\n\t            }, \"slow\");\n\t        }\n\t        $(SELECTORS.FIRST_SECTION).toggleClass(SELECTORS.ACTIVITY_TOGGLE_CLASS);\n\t    });\n        $('body').on('click', `${SELECTORS.TOGGLE_HIGHLIGHT}, ${SELECTORS.TOGGLE_SHOWHIDE}`, function() {\n            window.reload();\n        });\n\n    }\n\n    return {\n    \tinit: init,\n    \tadjustGeneralSectionActivities: adjustGeneralSectionActivities\n    };\n});\n"],"file":"common.min.js"}