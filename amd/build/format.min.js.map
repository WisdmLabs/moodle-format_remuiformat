{"version":3,"sources":["format.js"],"names":["define","$","str","init","get_strings","key","component","done","ss","document","ready","change","val","remove","trigger","parent","hide","show","append","oldcoursedisplay","window","localStorage","getItem","layout_value","setItem","find","eq","fail"],"mappings":"AAuBCA,OAAO,CAAC,SAAU,YACnB,SAASC,EAAGC,GA0FR,MAAO,CACHC,KA1FJ,WACID,EAAIE,YAAY,CACZ,CAACC,IAAO,wBAAyBC,UAAa,wBAC/CC,KAAK,SAASC,GACbP,EAAEQ,UAAUC,MAAM,WAIdT,EAAE,yBAAyBU,OAAO,WAG9B,GAAoB,GAFDV,EAAE,yBAAyBW,MAG1CX,EAAE,uCAAuCY,SACzCZ,EAAE,qBAAqBW,IAAI,GAAGE,QAAQ,UACtCb,EAAE,2BAA2Bc,SAASA,SAASC,OAC/Cf,EAAE,+BAA+Bc,SAASA,SAASC,OACnDf,EAAE,oCAAoCc,SAASA,SAASE,OAE3B,GADLhB,EAAE,oCAAoCW,MAE1DX,EAAE,gCAAgCc,SAASA,SAASC,OAEpDf,EAAE,gCAAgCc,SAASA,SAASE,WAGrD,CACHhB,EAAE,qBAAqBiB,OAAO,qBAAuBV,EAAG,GAAK,aAC7D,IAAIW,EAAmBC,OAAOC,aAAaC,QAAQ,iBACnDrB,EAAE,qBAAqBW,IAAIO,GAAkBL,QAAQ,UACrDb,EAAE,2BAA2Bc,SAASA,SAASE,OAC/ChB,EAAE,oCAAoCc,SAASA,SAASC,OACxDf,EAAE,gCAAgCc,SAASA,SAASC,OAG/B,GADLf,EAAE,qBAAqBW,MAEvCX,EAAE,+BAA+Bc,SAASA,SAASC,OAEnDf,EAAE,+BAA+Bc,SAASA,SAASE,SAG3D,IAAIM,EAAetB,EAAE,yBAAyBW,MAC9CQ,OAAOC,aAAaG,QAAQ,gBAAiBvB,EAAE,qBAAqBW,OAGhD,GAAhBW,GACAtB,EAAE,qBAAqBwB,KAAK,UAAUC,GAAG,GAAGV,OAC5Cf,EAAE,2BAA2Bc,SAASA,SAASC,OAC/Cf,EAAE,+BAA+Bc,SAASA,SAASC,OAEtB,GADLf,EAAE,oCAAoCW,MAE1DX,EAAE,gCAAgCc,SAASA,SAASC,OAEpDf,EAAE,gCAAgCc,SAASA,SAASE,SAIxDhB,EAAE,2BAA2Bc,SAASA,SAASE,OAEtB,GADLhB,EAAE,qBAAqBW,OAEvCX,EAAE,+BAA+Bc,SAASA,SAASC,OAEvDf,EAAE,oCAAoCc,SAASA,SAASC,OACxDf,EAAE,gCAAgCc,SAASA,SAASC,QAExDf,EAAE,qBAAqBU,OAAO,WAED,GADLV,EAAE,qBAAqBW,MAEvCX,EAAE,+BAA+Bc,SAASA,SAASC,OAEnDf,EAAE,+BAA+Bc,SAASA,SAASE,SAI3DhB,EAAE,oCAAoCU,OAAO,WAEZ,GADLV,EAAE,oCAAoCW,MAE1DX,EAAE,gCAAgCc,SAASA,SAASC,OAEpDf,EAAE,gCAAgCc,SAASA,SAASE,aAMlEU,KAAK","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Enhancements to all components for easy course accessibility.\n *\n * @module     format/remuiformat\n * @copyright  WisdmLabs\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n define(['jquery', 'core/str'],\nfunction($, str) {\n    function init() {\n        str.get_strings([\n            {'key': 'showallsectionperpage', 'component': 'format_remuiformat'},\n        ]).done(function(ss) {\n            $(document).ready(function() {\n                var sectionlayout_val;\n                var sectionbackground_val;\n                // Hide and show the course settings on course format selection.\n                $(\"#id_remuicourseformat\").change(function() {\n                    var layout_value = $(\"#id_remuicourseformat\").val();\n                    // CARD.\n                    if (layout_value == 0) {\n                        $(\"#id_coursedisplay option[value='0']\").remove();\n                        $('#id_coursedisplay').val(1).trigger('change');\n                        $(\"#id_remuiteacherdisplay\").parent().parent().hide();\n                        $(\"#id_remuidefaultsectionview\").parent().parent().hide();\n                        $(\"#id_remuienablecardbackgroundimg\").parent().parent().show();\n                        sectionbackground_val = $(\"#id_remuienablecardbackgroundimg\").val();\n                        if (sectionbackground_val == 0) {\n                            $(\"#id_remuidefaultsectiontheme\").parent().parent().hide();\n                        } else {\n                            $(\"#id_remuidefaultsectiontheme\").parent().parent().show();\n                        }\n                        // LIST.\n                    } else {\n                        $('#id_coursedisplay').append('<option value=\"0\">' + ss[0] + '</option>');\n                        var oldcoursedisplay = window.localStorage.getItem('coursedisplay');\n                        $('#id_coursedisplay').val(oldcoursedisplay).trigger('change');\n                        $(\"#id_remuiteacherdisplay\").parent().parent().show();\n                        $(\"#id_remuienablecardbackgroundimg\").parent().parent().hide();\n                        $(\"#id_remuidefaultsectiontheme\").parent().parent().hide();\n                    }\n                    sectionlayout_val = $(\"#id_coursedisplay\").val();\n                    if (sectionlayout_val == 1) {\n                        $(\"#id_remuidefaultsectionview\").parent().parent().hide();\n                    } else {\n                        $(\"#id_remuidefaultsectionview\").parent().parent().show();\n                    }\n                });\n                var layout_value = $(\"#id_remuicourseformat\").val();\n                window.localStorage.setItem('coursedisplay', $(\"#id_coursedisplay\").val());\n\n                // CARD.\n                if (layout_value == 0) {\n                    $(\"#id_coursedisplay\").find(\"option\").eq(1).hide();\n                    $(\"#id_remuiteacherdisplay\").parent().parent().hide();\n                    $(\"#id_remuidefaultsectionview\").parent().parent().hide();\n                    sectionbackground_val = $(\"#id_remuienablecardbackgroundimg\").val();\n                    if (sectionbackground_val == 0) {\n                        $(\"#id_remuidefaultsectiontheme\").parent().parent().hide();\n                    } else {\n                        $(\"#id_remuidefaultsectiontheme\").parent().parent().show();\n                    }\n                    // LIST.\n                } else {\n                    $(\"#id_remuiteacherdisplay\").parent().parent().show();\n                    sectionlayout_val = $(\"#id_coursedisplay\").val();\n                    if (sectionlayout_val == 1) {\n                        $(\"#id_remuidefaultsectionview\").parent().parent().hide();\n                    }\n                    $(\"#id_remuienablecardbackgroundimg\").parent().parent().hide();\n                    $(\"#id_remuidefaultsectiontheme\").parent().parent().hide();\n                }\n                $(\"#id_coursedisplay\").change(function() {\n                    sectionlayout_val = $(\"#id_coursedisplay\").val();\n                    if (sectionlayout_val == 1) {\n                        $(\"#id_remuidefaultsectionview\").parent().parent().hide();\n                    } else {\n                        $(\"#id_remuidefaultsectionview\").parent().parent().show();\n                    }\n                });\n\n                $(\"#id_remuienablecardbackgroundimg\").change(function() {\n                    sectionbackground_val = $(\"#id_remuienablecardbackgroundimg\").val();\n                    if (sectionbackground_val == 0) {\n                        $(\"#id_remuidefaultsectiontheme\").parent().parent().hide();\n                    } else {\n                        $(\"#id_remuidefaultsectiontheme\").parent().parent().show();\n                    }\n                });\n\n            });\n        }\n        ).fail(function() {\n\n        });\n    }\n\n    // Must return the init function.\n    return {\n        init: init\n    };\n});\n"],"file":"format.min.js"}